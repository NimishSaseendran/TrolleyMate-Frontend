<div class="page-title">{{ pageTitle }}</div>
<div class="d-flex justify-content-between align-items-center mb-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item active" aria-current="page">Category</li>
        </ol>
    </nav>

    <button class="btn btn-primary" routerLink="/products/add">
        <i class="fas fa-plus me-2"></i>Add Category
    </button>
</div>

<div class="table-responsive">
    <table class="table table-dark table-hover table-borderless table-striped align-middle">
        <thead>
            <tr>
                <th>Sl No</th>
                <th>Name</th>
                <th>Slug</th>
                <th>Description</th>
                <!-- <th>Image</th> -->
                <th>Tags</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let category of arrCategories; let i = index">
                <td>{{ i + 1 + skipCount }}</td>
                <td>{{ category.categoryName }}</td>
                <td>{{ category.categorySlug }}</td>
                <td>{{ category.categoryDescription }}</td>
                <!-- <td>
                    <img *ngIf="category.categoryImage" [src]="category.categoryImage" alt="Category Image" height="40"
                    width="40" class="rounded shadow-sm" />
                    <span *ngIf="!category.categoryImage">â€”</span>
                </td> -->
                <td>
                    <span *ngIf="category.tags?.length; else noTags">
                        <span *ngFor="let tag of category.tags" class="badge bg-info text-dark me-1">{{ tag }}</span>
                    </span>
                    <ng-template #noTags>
                        <span class="text-muted">No Tags</span>
                    </ng-template>
                </td>
                <td>
                    <span class="badge" [ngClass]="category.isActive ? 'bg-success' : 'bg-danger'">
                        {{ category.isActive ? 'Active' : 'Inactive' }}
                    </span>
                </td>
                <td>
                    <button class="btn btn-sm btn-outline-light me-2"
                        [routerLink]="['/categories/edit', category.pkCategoryId || category._id]">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-outline-danger">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="d-flex mt-4" *ngIf="pager && pager.pages?.length && pager.totalPages > 1">
    <ul class=" pagination mb-0">
        <!-- First -->
        <li class="page-item" [class.disabled]="pager.currentPage === 1">
            <a class="page-link" (click)="loadPage(1)">First</a>
        </li>

        <!-- Previous -->
        <li class="page-item" [class.disabled]="pager.currentPage === 1">
            <a class="page-link" (click)="loadPage(pager.currentPage - 1)">Previous</a>
        </li>

        <!-- Page Numbers -->
        <li class="page-item" *ngFor="let page of pager.pages" [class.active]="pager.currentPage === page">
            <a class="page-link" (click)="loadPage(page)">{{ page }}</a>
        </li>

        <!-- Next -->
        <li class="page-item" [class.disabled]="pager.currentPage === pager.totalPages">
            <a class="page-link" (click)="loadPage(pager.currentPage + 1)">Next</a>
        </li>

        <!-- Last -->
        <li class="page-item" [class.disabled]="pager.currentPage === pager.totalPages">
            <a class="page-link" (click)="loadPage(pager.totalPages)">Last</a>
        </li>
    </ul>
</div>
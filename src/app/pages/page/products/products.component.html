<!-- Breadcrumb and Add Product Button -->
<div class="page-title">{{ pageTitle }}</div>
<div class="d-flex justify-content-between align-items-center mb-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item active" aria-current="page">Products</li>
        </ol>
    </nav>

    <button class="btn btn-primary" routerLink="/products/add">
        <i class="fas fa-plus me-2"></i>Add Product
    </button>
</div>

<!-- Product Table -->
<div class="table-responsive">
    <table class="table table-dark table-hover table-borderless table-striped align-middle">
        <thead>
            <tr>
                <th>Sl No</th>
                <th>Name</th>
                <th>Category</th>
                <th>Selling Price</th>
                <th>Stock</th>
                <th>Available</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let product of arrProducts; let i = index">
                <td>{{ i + 1 + skipCount }}</td>
                <td>{{ product.strName }}</td>
                <td>{{ product.strCategory }}</td>
                <td>â‚¹{{ product.intSellingPrice }}</td>
                <td>{{ product.intStockQuantity }}</td>
                <td>
                    <span class="badge" [ngClass]="product.blnIsAvailable ? 'bg-success' : 'bg-danger'">
                        {{ product.blnIsAvailable ? 'Yes' : 'No' }}
                    </span>
                </td>
                <td>
                    <button class="btn btn-sm btn-outline-light me-2"
                        [routerLink]="['/products/edit', product.pkProductId || product._id]">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-outline-danger">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Pagination Controls -->
<div class="d-flex mt-4" *ngIf="pager && pager.pages?.length && pager.totalPages > 1">
    <ul class=" pagination mb-0">
        <!-- First -->
        <li class="page-item" [class.disabled]="pager.currentPage === 1">
            <a class="page-link" (click)="loadPage(1)">First</a>
        </li>

        <!-- Previous -->
        <li class="page-item" [class.disabled]="pager.currentPage === 1">
            <a class="page-link" (click)="loadPage(pager.currentPage - 1)">Previous</a>
        </li>

        <!-- Page Numbers -->
        <li class="page-item" *ngFor="let page of pager.pages" [class.active]="pager.currentPage === page">
            <a class="page-link" (click)="loadPage(page)">{{ page }}</a>
        </li>

        <!-- Next -->
        <li class="page-item" [class.disabled]="pager.currentPage === pager.totalPages">
            <a class="page-link" (click)="loadPage(pager.currentPage + 1)">Next</a>
        </li>

        <!-- Last -->
        <li class="page-item" [class.disabled]="pager.currentPage === pager.totalPages">
            <a class="page-link" (click)="loadPage(pager.totalPages)">Last</a>
        </li>
    </ul>
</div>